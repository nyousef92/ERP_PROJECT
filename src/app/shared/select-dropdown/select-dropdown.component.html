<div class="w-full">


    @if (label) {
    <label [for]="label" class="block text-xs text-text-secondary mb-1.5 capitalize">
        {{ label }}
        @if(required){ <span class="text-danger">*</span> }
    </label>
    }
    @if(this.options.length>9){
    <div [class.ng-select-error]="showError()">
      <ng-select
        [items]="options"
        [formControl]="formControl"
        [clearable]="true"
        [required]="required || false"
        (change)="onSelectionChange($event)"
        (blur)="onBlur()"
        (focus)="onFocus()"
        bindLabel="label"
        bindValue="value">
      </ng-select>
    </div>
    }

    @if(this.options.length<9){ <select [id]="label" [formControl]="formControl" [attr.required]="required"
        (change)="onSelectionChange($event)" (blur)="onBlur()" (focus)="onFocus()"
        class="w-full px-3 py-2 text-sm text-text bg-surface border border-border rounded-lg outline-none transition-colors focus:border-primary focus:ring-1 focus:ring-primary disabled:bg-background disabled:text-text-muted disabled:cursor-not-allowed"
        [class.!border-danger]="showError()">
        <option value="">{{placeholder}}</option>
        @for(option of options;track option.value){
        <option [value]="option.value">
            {{option.label}}
        </option>
        }
        </select>
        }
        @if(showError()){
        <div class="mt-1 text-xs text-danger">
            {{ errorMessage }}
        </div>
        }
</div>
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Primary - Blue (#3b82f6) */
    --color-primary: 59 130 246;
    --color-primary-light: 96 165 250;
    --color-primary-dark: 37 99 235;

    /* Secondary - Slate */
    --color-secondary: 30 41 59;
    --color-secondary-light: 51 65 85;
    --color-secondary-dark: 15 23 42;

    /* Accent - Amber */
    --color-accent: 245 158 11;
    --color-accent-light: 251 191 36;
    --color-accent-dark: 217 119 6;

    /* Success */
    --color-success: 34 197 94;
    --color-success-light: 74 222 128;
    --color-success-dark: 22 163 74;

    /* Warning */
    --color-warning: 234 179 8;
    --color-warning-light: 250 204 21;
    --color-warning-dark: 202 138 4;

    /* Danger */
    --color-danger: 239 68 68;
    --color-danger-light: 248 113 113;
    --color-danger-dark: 220 38 38;

    /* Info */
    --color-info: 6 182 212;
    --color-info-light: 34 211 238;
    --color-info-dark: 8 145 178;

    /* Surfaces & backgrounds */
    --color-surface: 255 255 255;
    --color-background: 241 245 249;

    /* Text */
    --color-text: 30 41 59;
    --color-text-secondary: 100 116 139;
    --color-text-muted: 148 163 184;

    /* Border */
    --color-border: 226 232 240;

    /* Sidebar */
    --color-sidebar: 30 41 59;
    --color-sidebar-hover: 255 255 255;
    --color-sidebar-active: 59 130 246;
  }
}

html, body { height: 100%; }
body { margin: 0; font-family: 'Inter', Roboto, "Helvetica Neue", sans-serif; }

// ─── ng-select theme ──────────────────────────────────────────────────────────
.ng-select {
  .ng-select-container {
    background-color: rgb(var(--color-surface));
    border: 1px solid rgb(var(--color-border));
    border-radius: 0.5rem;
    font-size: 0.875rem;
    color: rgb(var(--color-text));
    min-height: 38px;
    transition: border-color 0.15s, box-shadow 0.15s;
    box-shadow: none !important;

    .ng-value-container {
      padding: 0.25rem 0.75rem;

      .ng-placeholder {
        color: rgb(var(--color-text-muted));
      }

      .ng-value {
        color: rgb(var(--color-text));
      }

      input {
        color: rgb(var(--color-text));
      }
    }

    .ng-arrow-wrapper {
      padding-right: 0.75rem;

      .ng-arrow {
        border-color: rgb(var(--color-text-muted)) transparent transparent;
      }
    }

    .ng-clear-wrapper {
      color: rgb(var(--color-text-muted));

      &:hover { color: rgb(var(--color-danger)); }
    }
  }

  &.ng-select-focused:not(.ng-select-opened) > .ng-select-container {
    border-color: rgb(var(--color-primary));
    box-shadow: 0 0 0 1px rgb(var(--color-primary)) !important;
  }

  &.ng-select-opened > .ng-select-container {
    border-color: rgb(var(--color-primary));
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
  }

  &.ng-select-disabled > .ng-select-container {
    background-color: rgb(var(--color-background));
    color: rgb(var(--color-text-muted));
    cursor: not-allowed;
  }

  .ng-dropdown-panel {
    border: 1px solid rgb(var(--color-primary));
    border-top: none;
    background-color: rgb(var(--color-surface));
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    border-bottom-left-radius: 0.5rem;
    border-bottom-right-radius: 0.5rem;

    .ng-dropdown-panel-items {
      max-height: 220px;

      .ng-option {
        font-size: 0.875rem;
        color: rgb(var(--color-text));
        padding: 0.5rem 0.75rem;
        background-color: rgb(var(--color-surface));

        &.ng-option-marked {
          background-color: rgb(var(--color-background));
          color: rgb(var(--color-text));
        }

        &.ng-option-selected {
          background-color: rgba(var(--color-primary), 0.08);
          color: rgb(var(--color-primary));
          font-weight: 500;
        }

        &.ng-option-selected.ng-option-marked {
          background-color: rgba(var(--color-primary), 0.14);
        }

        &.ng-option-disabled {
          color: rgb(var(--color-text-muted));
        }
      }
    }
  }
}

// Error state — applied via wrapper div [class.ng-select-error]
.ng-select-error .ng-select > .ng-select-container {
  border-color: rgb(var(--color-danger)) !important;
}
// ─────────────────────────────────────────────────────────────────────────────
